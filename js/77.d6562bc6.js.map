{"version":3,"file":"js/77.d6562bc6.js","mappings":"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","sources":["webpack://ever-wall/./src/views/WallView.vue","webpack://ever-wall/./src/components/LoginLogout.vue","webpack://ever-wall/src/components/LoginLogout.vue","webpack://ever-wall/./src/components/LoginLogout.vue?1b89","webpack://ever-wall/./src/components/LoginLogout.vue?fc45","webpack://ever-wall/./src/views/WallView.vue?5122","webpack://ever-wall/./src/views/WallView.vue?2898","webpack://ever-wall/./src/views/WallView.vue?d35d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',[_c('LoginLogout',{attrs:{\"authProp\":_vm.authTrigger}})],1),_c('nav',{staticClass:\"text-center mt-1\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Home\")])],1),_c('div',{staticClass:\"container mt-5\"},[_c('div',{staticClass:\"text-primary\"},[_vm._v(\"Wall address: \"+_vm._s(this.$route.params.chatAddress))]),_c('b-form',{staticClass:\"mt-3\"},[_c('b-form-group',[_c('b-form-textarea',{staticClass:\"mt-3 mb-3\",attrs:{\"placeholder\":\"Write something ... \"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}})],1),_c('b-button',{attrs:{\"disabled\":_vm.submitDisabled,\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"submit\"),(_vm.loader)?_c('b-spinner',{staticStyle:{\"margin-left\":\"0.3em\"},attrs:{\"small\":\"\"}}):_vm._e()],1)],1),_c('b-list-group',{staticClass:\"mt-5\"},_vm._l((_vm.posts),function(post){return _c('b-list-group-item',{key:post.id},[_c('div',[_vm._v(_vm._s(post.message))]),_c('br'),_c('div',{staticClass:\"text-secondary d-flex justify-content-between\"},[_c('div',[_vm._v(\"From: \"+_vm._s(post.sender.slice(0,6) + '...'+ post.sender.slice(62)))]),_c('div',[_c('a',{attrs:{\"href\":'./#/post/' + post.id}},[_vm._v(\" \"+_vm._s(new Date(post.timestamp * 1000).toLocaleDateString(\"ru-RU\") + ' ' + new Date(post.timestamp * 1000).toLocaleTimeString(\"en-US\"))+\" \")])])])])}),1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('nav',{staticClass:\"text-right mt-2\",staticStyle:{\"text-align\":\"right\"}},[_c('span',{staticClass:\"btn-link text-primary\",staticStyle:{\"cursor\":\"pointer\",\"padding-right\":\"2em\"},on:{\"click\":function($event){return _vm._loginLogout()}}},[_vm._v(_vm._s(_vm.ls))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav class=\"text-right mt-2\" style=\"text-align: right\">\n      <span\n        @click=\"_loginLogout()\"\n        class=\"btn-link text-primary\"\n        style=\"cursor: pointer; padding-right: 2em\"\n        >{{ ls }}</span\n      >\n    </nav>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport { authState, login, logout } from \"@/api\";\n\nexport default Vue.extend({\n  name: \"LoginLogout\",\n  props: ['authProp'],\n  data() {\n    return {\n      ls: null,\n    };\n  },\n  methods: {\n    //needed for monitoring the state of the user from other components\n    async authorization() {\n       const auth = await authState();\n       this.ls = auth === false ? \"Connect\" : `${auth.slice(0, 6)}...${auth.slice(62)} âŽ†`;      \n    },\n    async _loginLogout() {\n      if ((await authState()) === false) {\n        await login();\n        await this.authorization();\n      } else {\n        logout().then(() => {\n          this.ls = \"Connect\";\n        });\n      }\n    },\n  },\n  async created() {\n    await this.authorization()\n  },\n  watch: {\n    authProp: function (){\n      this.authorization();\n    }\n  }\n});\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginLogout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginLogout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginLogout.vue?vue&type=template&id=73f04b46&\"\nimport script from \"./LoginLogout.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginLogout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from 'vue';\nimport {sendMessage, getPosts} from '@/api';\nimport LoginLogout from '@/components/LoginLogout.vue'; \n\nexport default Vue.extend({\n  name: 'WallView',\n  props: {\n    msg: String,\n  },\n  data() {\n    return {\n      message: '',\n      posts: [],\n      authTrigger: false,\n      loader: false,\n      submitDisabled: false\n    };\n  },\n  methods: {\n    async submit() {\n      this.loader = true;\n      if(this.message === '') {\n        alert('Please, write something');        \n         this.loader = false;\n        return;\n      }\n      this.submitDisabled = true\n      sendMessage(this.message, this.$route.params.chatAddress).then(() => {       \n        this.authTrigger= this.authTrigger ? false : true;\n        this.message = '';  \n        //refresh posts\n       getPosts(this.$route.params.chatAddress).then(posts => {       \n        if(typeof posts === 'undefined'){\n          alert('Something went wrong');\n        }else{\n         this.posts = posts;\n         this.loader = false;\n        }\n       })\n      }).finally(() => {\n        this.loader = false;\n        this.submitDisabled = false\n       });\n    },\n  },\n  async mounted() {\n    const posts = await getPosts(this.$route.params.chatAddress);\n    if(typeof posts !== 'undefined'){   \n      this.posts = posts;\n    }\n  },\n  components:{\n    LoginLogout\n  }\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WallView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WallView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WallView.vue?vue&type=template&id=6b5c8bcf&\"\nimport script from \"./WallView.vue?vue&type=script&lang=ts&\"\nexport * from \"./WallView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_setupProxy","attrs","authTrigger","staticClass","_v","_s","$route","params","chatAddress","model","value","message","callback","$$v","expression","submitDisabled","on","$event","submit","loader","staticStyle","_e","_l","posts","post","key","id","sender","slice","Date","timestamp","toLocaleDateString","toLocaleTimeString","staticRenderFns","_loginLogout","ls","name","props","data","methods","logout","watch","authProp","component","Vue","msg","String","async","alert","sendMessage","then","getPosts","finally","components","LoginLogout"],"sourceRoot":""}