(function(){"use strict";var e={3849:function(e,t,n){n.d(t,{fD:function(){return p},ai:function(){return f},xl:function(){return h},Jq:function(){return A},x4:function(){return d},kS:function(){return g},bG:function(){return u}});n(1703);var r=n(7945);const a={abi:{"ABI version":2,version:"2.2",header:["time"],functions:[{name:"getMessage",inputs:[{name:"message",type:"string"}],outputs:[]},{name:"constructor",inputs:[],outputs:[]},{name:"chatId",inputs:[],outputs:[{name:"chatId",type:"uint256"}]}],data:[{key:1,name:"chatId",type:"uint256"}],events:[],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"chatId",type:"uint256"}]},tvc:"te6ccgECEgEAAasAAgE0AwEBAcACAEPQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgBCSK7VMg4wMgwP/jAiDA/uMC8gsPBQQRAoLtRNDXScMB+GYh2zzTAAGegwjXGCD5AVj4QvkQ8qje0z8B+EMhufK0IPgjgQPoqIIIG3dAoLnytPhj0x8B2zzyPAwGA0rtRNDXScMB+GYi0NcLA6k4ANwhxwDjAiHXDR/yvCHjAwHbPPI8Dg4GAzwgghBotV8/uuMCIIIQbdAaQbrjAiCCEH/uhji64wIKCQcDKDD4RvLgTPhCbuMA1NHbPDDbPPIADQgLAAIwAVAw0ds8+EohjhyNBHAAAAAAAAAAAAAAAAA7dAaQYMjOy//JcPsA3vIADQIiMPhCbuMA+Ebyc9H4ANs88gAMCwAk+Er4Q/hCyMv/yz/Pg8v/ye1UAVztRNDXScIBjiNw7UTQ9AVxIYBA9A6T1wv/kXDi+GqAQPQO8r3XC//4YnD4Y+MNDQAm7UTQ0//TP9MAMdP/0fhq+GP4YgAK+Eby4EwCCvSkIPShERAAFHNvbCAwLjYxLjIAAA==",code:"te6ccgECDwEAAX4ABCSK7VMg4wMgwP/jAiDA/uMC8gsMAgEOAoLtRNDXScMB+GYh2zzTAAGegwjXGCD5AVj4QvkQ8qje0z8B+EMhufK0IPgjgQPoqIIIG3dAoLnytPhj0x8B2zzyPAkDA0rtRNDXScMB+GYi0NcLA6k4ANwhxwDjAiHXDR/yvCHjAwHbPPI8CwsDAzwgghBotV8/uuMCIIIQbdAaQbrjAiCCEH/uhji64wIHBgQDKDD4RvLgTPhCbuMA1NHbPDDbPPIACgUIAAIwAVAw0ds8+EohjhyNBHAAAAAAAAAAAAAAAAA7dAaQYMjOy//JcPsA3vIACgIiMPhCbuMA+Ebyc9H4ANs88gAJCAAk+Er4Q/hCyMv/yz/Pg8v/ye1UAVztRNDXScIBjiNw7UTQ9AVxIYBA9A6T1wv/kXDi+GqAQPQO8r3XC//4YnD4Y+MNCgAm7UTQ0//TP9MAMdP/0fhq+GP4YgAK+Eby4EwCCvSkIPShDg0AFHNvbCAwLjYxLjIAAA==",codeHash:"ba2931d1cc7b5b988e1853a6cd606e02f83a7df9a0788c69c297358fffc40b72"};let o,i;async function s(){if("undefined"===typeof o&&(o=new r.ProviderRpcClient,!await o.hasProvider()))throw alert("Please install the EverWallet extension"),new Error("Extension is not installed");return o}async function c(){const e=await s();if("undefined"===typeof i){const{accountInteraction:t}=await e.requestPermissions({permissions:["basic","accountInteraction"]});if(null==t)throw alert("Issue with permissions"),new Error("Insufficient permissions");i=t}return i}async function u(e,t){const n=await s(),o=await c(),i=new n.Contract(a.abi,new r.Address(t));try{const t=await i.methods.getMessage({message:e}).send({from:o.address,amount:"1",bounce:!0});return t}catch(u){console.error(u)}}async function A(e){const t=await s(),n=new t.Contract(a.abi,new r.Address(e));try{const e=(await t.getTransactions({address:n.address})).transactions,r=e.map((e=>({sender:e.inMessage.src?.toString()??"",message:e.inMessage.body?.toString()??"",timestamp:e.createdAt,id:e.id.hash}))).filter((e=>""!=e.message));let a;for(let t=0;t<r.length;t++)a=await l(r[t].message),"undefined"!=typeof a?r[t].message=a.message:r.splice(t,1);return r}catch(o){console.error(o)}}async function l(e){const t=await s();try{const n=await t.unpackFromCell({structure:[{name:"message",type:"string"}],boc:e,allowPartial:!0});return n.data}catch(n){console.error(n)}}function f(){let e="0:";const t="0123456789abcdef";for(let n=0;n<64;n++)e+=t[Math.floor(Math.random()*t.length)];return e}async function d(){await c();const e=await s();await e.ensureInitialized()}async function g(){const e=await s();e.disconnect(),i=void 0}async function p(){const e=await s(),t=await e.getProviderState();return"undefined"!==typeof t.permissions.accountInteraction&&t.permissions.accountInteraction.address.toString()}async function h(e){const t=await s();try{const n=(await t.getTransaction({hash:e})).transaction;if("undefined"===typeof n)return void console.error("undefined t");const r={sender:n.inMessage.src?.toString()??"",message:n.inMessage.body?.toString()??"",timestamp:n.createdAt,id:n.id.hash},a=await l(r.message);return"undefined"===typeof a?void console.error("undefined message"):(r.message=a.message,r)}catch(n){console.error(n)}}},6712:function(e,t,n){var r=n(6369),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],i=n(1001),s={},c=(0,i.Z)(s,a,o,!1,null,null,null),u=c.exports,A=n(2631),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("b-container",[t("b-row",{staticClass:"vh-100 text-center",attrs:{"align-v":"center"}},[t("b-col"),t("b-col",[t("CreateWall",{attrs:{msg:"Everscale Walls"}})],1),t("b-col")],1)],1)],1)},f=[],d=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return e.createWall()}}},[e._v("Create Wall")]),t("div",{staticClass:"mt-3",attrs:{id:"createWallInfo"},domProps:{innerHTML:e._s(e.createWallInfoMessage)}})],1)},g=[],p=n(3849),h=r["default"].extend({name:"CreateWall",props:{msg:String},data(){return{createWallInfoMessage:""}},methods:{async createWall(){const e=(0,p.ai)();"undefined"!==typeof e&&(this.createWallInfoMessage=`<a href="./#/wall/${e}">New wall</a> created`)}}}),w=h,m=(0,i.Z)(w,d,g,!1,null,null,null),v=m.exports,b=r["default"].extend({name:"HomeView",components:{CreateWall:v}}),y=b,P=(0,i.Z)(y,l,f,!1,null,null,null),C=P.exports;r["default"].use(A.Z);const I=[{path:"/",name:"home",component:C},{path:"/wall/:chatAddress",name:"wall",component:()=>n.e(36).then(n.bind(n,7036))},{path:"/post/:postId",name:"postView",component:()=>n.e(293).then(n.bind(n,5293))}],M=new A.Z({routes:I});var j=M,D=n(5996),E=n(9425);n(7024);r["default"].use(D.XG7),r["default"].use(E.A7),r["default"].config.productionTip=!1,new r["default"]({router:j,render:e=>e(u)}).$mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var i=1/0;for(A=0;A<e.length;A++){r=e[A][0],a=e[A][1],o=e[A][2];for(var s=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(A--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var A=e.length;A>0&&e[A-1][2]>o;A--)e[A]=e[A-1];e[A]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{36:"d5b4c6ef",293:"654bc40b"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="ever-wall:";n.l=function(r,a,o,i){if(e[r])e[r].push(a);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),A=0;A<u.length;A++){var l=u[A];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==t+o){s=l;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[a];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/EverWall/"}(),function(){var e={143:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=o);var i=n.p+n.u(t),s=new Error,c=function(r){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,a[1](s)}};n.l(i,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],s=r[1],c=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var A=c(n)}for(t&&t(r);u<i.length;u++)o=i[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(A)},r=self["webpackChunkever_wall"]=self["webpackChunkever_wall"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(6712)}));r=n.O(r)})();
//# sourceMappingURL=app.6f253e84.js.map