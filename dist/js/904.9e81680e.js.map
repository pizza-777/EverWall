{"version":3,"file":"js/904.9e81680e.js","mappings":"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","sources":["webpack://ever-wall/./src/components/LoginLogout.vue","webpack://ever-wall/src/components/LoginLogout.vue","webpack://ever-wall/./src/components/LoginLogout.vue?1b89","webpack://ever-wall/./src/components/LoginLogout.vue?fc45","webpack://ever-wall/./src/views/WallView.vue","webpack://ever-wall/./src/views/WallView.vue?5122","webpack://ever-wall/./src/views/WallView.vue?2898","webpack://ever-wall/./src/views/WallView.vue?d35d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('nav',{staticClass:\"text-right mt-2\",staticStyle:{\"text-align\":\"right\"}},[_c('span',{staticClass:\"btn-link text-primary\",staticStyle:{\"cursor\":\"pointer\",\"padding-right\":\"2em\"},on:{\"click\":function($event){return _vm.auth()}}},[_vm._v(_vm._s(_vm.ls))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav class=\"text-right mt-2\" style=\"text-align: right\">\n      <span\n        @click=\"auth()\"\n        class=\"btn-link text-primary\"\n        style=\"cursor: pointer; padding-right: 2em\"\n        >{{ ls }}</span\n      >\n    </nav>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport { subscriber, authState, login, logout } from \"@/api\";\n\nexport default Vue.extend({\n  name: \"LoginLogout\",\n  data() {\n    return {\n      ls: null,\n    };\n  },\n  methods: {\n    subscriber() {\n      subscriber().then((res) => {\n        this.ls = res.data.username;\n      });\n    },\n    async auth() {\n      if ((await authState()) === false) {\n        await login();\n        const auth = await authState();\n        if (typeof auth === \"string\") {\n          this.ls = `${auth.slice(0, 6)}...${auth.slice(62)} ⎆`;\n        }\n      } else {\n        logout().then(() => {\n          this.ls = \"Connect\";\n        });\n      }\n    },\n  },\n  async created() {\n    const auth = await authState();\n    this.ls =\n      auth === false ? \"Connect\" : `${auth.slice(0, 6)}...${auth.slice(62)} ⎆`;\n  },\n});\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginLogout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginLogout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginLogout.vue?vue&type=template&id=291d912b&\"\nimport script from \"./LoginLogout.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginLogout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',[_c('LoginLogout')],1),_c('nav',{staticClass:\"text-center mt-1\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Home\")])],1),_c('div',{staticClass:\"container mt-5\"},[_c('div',{staticClass:\"text-primary\"},[_vm._v(\"Wall address: \"+_vm._s(this.$route.params.chatAddress))]),_c('b-form',{staticClass:\"mt-3\"},[_c('b-form-group',[_c('b-form-textarea',{staticClass:\"mt-3 mb-3\",attrs:{\"placeholder\":\"Write something ... \"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}})],1),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"submit\")])],1),_c('b-list-group',{staticClass:\"mt-5\"},_vm._l((_vm.posts),function(post){return _c('b-list-group-item',{key:post.message},[_c('div',[_vm._v(_vm._s(post.message))]),_c('br'),_c('div',{staticClass:\"text-secondary d-flex justify-content-between\"},[_c('div',[_vm._v(\"From: \"+_vm._s(post.sender.slice(0,6) + '...'+ post.sender.slice(62)))]),_c('div',[_c('a',{attrs:{\"href\":'#/post/' + post.id}},[_vm._v(\" \"+_vm._s(new Date(post.timestamp * 1000).toLocaleDateString(\"ru-RU\") + ' ' + new Date(post.timestamp * 1000).toLocaleTimeString(\"en-US\"))+\" \")])])])])}),1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue';\nimport {sendMessage, getPosts} from '@/api';\nimport LoginLogout from '@/components/LoginLogout.vue'; \n\nexport default Vue.extend({\n  name: 'WallView',\n  props: {\n    msg: String,\n  },\n  data() {\n    return {\n      message: '',\n      posts: [],\n    };\n  },\n  methods: {\n    async submit() {\n      if(this.message === '') {\n        alert('Please, write something');\n        return;\n      }\n      sendMessage(this.message, this.$route.params.chatAddress).then(() => {\n        this.message = '';\n        //refresh posts\n       getPosts(this.$route.params.chatAddress).then(posts => {\n        if(typeof posts === 'undefined'){\n          alert('Something went wrong');\n        }else{\n         this.posts = posts;\n        }\n       });\n      });\n    },\n  },\n  async mounted() {\n    this.posts = await getPosts(this.$route.params.chatAddress);\n    console.log(this.posts);\n  },\n  components:{\n    LoginLogout\n  }\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WallView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WallView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WallView.vue?vue&type=template&id=46890185&\"\nimport script from \"./WallView.vue?vue&type=script&lang=ts&\"\nexport * from \"./WallView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","staticStyle","on","$event","auth","_v","_s","ls","staticRenderFns","name","data","methods","subscriber","logout","component","attrs","$route","params","chatAddress","model","value","message","callback","$$v","expression","submit","_l","posts","post","key","sender","slice","id","Date","timestamp","toLocaleDateString","toLocaleTimeString","Vue","props","msg","String","async","sendMessage","then","getPosts","alert","console","log","components","LoginLogout"],"sourceRoot":""}