"use strict";(self["webpackChunkever_wall"]=self["webpackChunkever_wall"]||[]).push([[233],{6233:function(t,s,e){e.r(s),e.d(s,{default:function(){return b}});var a=function(){var t=this,s=t._self._c;t._self._setupProxy;return s("div",[s("div",[s("LoginLogout",{attrs:{authProp:t.authTrigger}})],1),s("nav",{staticClass:"text-center mt-1"},[s("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),s("div",{staticClass:"container mt-5"},[s("div",{staticClass:"text-primary"},[t._v("Wall address: "+t._s(this.$route.params.chatAddress))]),s("b-form",{staticClass:"mt-3"},[s("b-form-group",[s("b-form-textarea",{staticClass:"mt-3 mb-3",attrs:{placeholder:"Write something ... "},model:{value:t.message,callback:function(s){t.message=s},expression:"message"}})],1),s("b-button",{attrs:{disabled:t.submitDisabled,variant:"outline-primary"},on:{click:function(s){return t.submit()}}},[t._v("submit"),t.loader?s("b-spinner",{staticStyle:{"margin-left":"0.3em"},attrs:{small:""}}):t._e()],1)],1),s("b-list-group",{staticClass:"mt-5"},t._l(t.posts,(function(e){return s("b-list-group-item",{key:e.id},[s("div",[t._v(t._s(e.message))]),s("br"),s("div",{staticClass:"text-secondary d-flex justify-content-between"},[s("div",[t._v("From: "+t._s(e.sender.slice(0,6)+"..."+e.sender.slice(62)))]),s("div",[s("a",{attrs:{href:"./#/post/"+e.id}},[t._v(" "+t._s(new Date(1e3*e.timestamp).toLocaleDateString("ru-RU")+" "+new Date(1e3*e.timestamp).toLocaleTimeString("en-US"))+" ")])])])])})),1)],1)])},i=[],r=e(6369),n=e(3849),o=function(){var t=this,s=t._self._c;t._self._setupProxy;return s("div",[s("nav",{staticClass:"text-right mt-2",staticStyle:{"text-align":"right"}},[s("span",{staticClass:"btn-link text-primary",staticStyle:{cursor:"pointer","padding-right":"2em"},on:{click:function(s){return t._loginLogout()}}},[t._v(t._s(t.ls))])])])},l=[],u=r["default"].extend({name:"LoginLogout",props:["authProp"],data(){return{ls:null}},methods:{async authorization(){const t=await(0,n.fD)();this.ls=!1===t?"Connect":`${t.slice(0,6)}...${t.slice(62)} âŽ†`},async _loginLogout(){!1===await(0,n.fD)()?(await(0,n.x4)(),await this.authorization()):(0,n.kS)().then((()=>{this.ls="Connect"}))}},async created(){await this.authorization()},watch:{authProp:function(){this.authorization()}}}),c=u,d=e(1001),h=(0,d.Z)(c,o,l,!1,null,null,null),m=h.exports,g=r["default"].extend({name:"WallView",props:{msg:String},data(){return{message:"",posts:[],authTrigger:!1,loader:!1,submitDisabled:!1}},methods:{async submit(){if(this.loader=!0,""===this.message)return alert("Please, write something"),void(this.loader=!1);this.submitDisabled=!0,(0,n.bG)(this.message,this.$route.params.chatAddress).then((t=>{"undefined"!==typeof t&&(this.authTrigger=!this.authTrigger,this.message=""),(0,n.Jq)(this.$route.params.chatAddress).then((t=>{"undefined"===typeof t?alert("Something went wrong"):(this.posts=t,this.loader=!1)}))})).finally((()=>{this.authTrigger=!this.authTrigger,this.loader=!1,this.submitDisabled=!1}))}},async mounted(){const t=await(0,n.Jq)(this.$route.params.chatAddress);"undefined"!==typeof t&&(this.posts=t)},components:{LoginLogout:m}}),p=g,f=(0,d.Z)(p,a,i,!1,null,null,null),b=f.exports}}]);
//# sourceMappingURL=233.e4645887.js.map